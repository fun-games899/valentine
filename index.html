<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Valentine?</title>
    <link rel="stylesheet" href="./styles.css">
</head>
<body>



    <div class="wrap">
        <div class="container">
            <div class="box">
                    <div class="nameBox">
                        <img src="./Red-Teddy-Bear-Transparent-PNG.png">
                        <h2 class="name">lol, <br /> It's Valentines's Day <img src="./love.png" style="width: 16px;"></h2>
                        <input type="text" class="enter-name" id="name-input" placeholder="Please write your name here...">
                        <button class="submit-btn" onclick="displayName()">Submit</button>
                        <div class="error-message" style="display: none; color: rgb(226, 45, 45); text-align: center; margin-top: .6em; font-weight:600; width: 95%;"></div>
                    </div>
                    <div class="valentineBox">
                        <img src="./Val-love.png" width="70%">
                        <div class="display-name" style="display: none; margin-top: 1em;"></div>
                        <div class="buttons">
                            <button id="yesBtn">Yes</button>
                            <button id="noBtn">No</button>
                        </div>
                    </div>
                    <div class="messageBox">
                        <img class="roses" src="vecteezy_ai-generated-heart-of-roses-png_35460027.png" width="80%">

                        <p id="response"></p>
                        <button class="whatsapp"><a href="https://wa.link/j6ojxn" target="_blank">Whatsapp me</a></button>
                    </div>
            </div>
        </div>
    </div>
    <audio id="background-music" src="./I-Love You.mp3" preload="auto"></audio>

    <script>


          window.addEventListener('load', function() {
            const music = document.getElementById('background-music');

            music.volume = 0.4;


            music.play().catch((error) => {
                console.log('Autoplay blocked, user interaction required.');
            });
        });



        const submitBtn = document.querySelector('.submit-btn'); 
        const nameBox = document.querySelector('.nameBox');
        const valentineBox = document.querySelector('.valentineBox');
        const messageBox = document.querySelector('.messageBox');

        const validNames = ['annette', 'lebo','lebogang','palesa', 'katlego', 'precious', 'michell', 'shendah','gadifele','lerato', 'jaynap', 'eunice', 'basetsana','bassie','sharon', 'malebo','tumi','believe','neo','bubu','gadi', 'louisa'];
        function displayName() {
            var name = document.getElementById("name-input").value.trim();
            var errorMessage = document.querySelector(".error-message");
            var displayName = document.querySelector(".display-name");
            if (name === "") {
                errorMessage.innerHTML = "lol, so you don't want to write your name?";
                errorMessage.style.display = "block";
                displayName.style.display = "none";
            } else if (!validNames.includes(name.toLowerCase())) {
             errorMessage.innerHTML = "That's not your name, come on!";
               errorMessage.style.display = "block";
                displayName.style.display = "none";
           }  
            else {
                               
                displayName.innerHTML = `i made this special for you <span> ${name} </span>, I realized i need a Valentine. wanna fill the spot? `;
                displayName.style.display = "block";
                errorMessage.style.display = "none";
                valentineBox.classList.add('open'); 
                nameBox.classList.add('close'); 
            }
        }
        const yesBtn = document.getElementById('yesBtn');
        const noBtn = document.getElementById('noBtn');

        noBtn.addEventListener('mouseover', moveButton);
        noBtn.addEventListener('click', moveButton);

        function moveButton() {
        const containerWidth = document.querySelector('.valentineBox').offsetWidth;
        const containerHeight = document.querySelector('.valentineBox').offsetHeight;
        const btnWidth = noBtn.offsetWidth;
        const btnHeight = noBtn.offsetHeight;
        const randomX = Math.floor(Math.random() * (containerWidth - btnWidth + 40));
        const randomY = Math.floor(Math.random() * (containerHeight - btnHeight + 40));

        noBtn.style.position = 'absolute';
        noBtn.style.transition = 'left 0.5s, top 0.5s'
        noBtn.style.left = `${randomX}px`;
        noBtn.style.top = `${randomY}px`;
        }

        yesBtn.addEventListener('click', () => {
            valentineBox.classList.remove('open'); 
            messageBox.classList.add('show');
            
        response.textContent = `These roses are for you! Thank you for saving me from solo Valentine's. You're the best`;
        
            const celebrationVector = document.createElement('img');
            celebrationVector.src = 'congratulations-7600_512.gif';
            celebrationVector.classList.add('celebration-vector');
            messageBox.appendChild(celebrationVector);
    });
    </script>
</body>
</html>

